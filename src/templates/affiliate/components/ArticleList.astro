---
/**
 * Article List
 * ============
 * Clean article listing.
 */

import type { Article } from "../types";

interface Props {
  articles: Article[];
}

const { articles } = Astro.props;

function formatDate(date: Date | string): string {
  return new Date(date).toLocaleDateString("en-US", {
    month: "short",
    day: "numeric",
    year: "numeric",
  });
}
---

<div class="tpl-divider">
  {articles.map((article) => (
    <article class="py-4 first:pt-0 last:pb-0">
      <div class="tpl-muted mb-1 flex items-center gap-2 text-xs">
        {article.category && <span class="tpl-link font-medium">{article.category}</span>}
        {article.date && <time>{formatDate(article.date)}</time>}
      </div>
      <h3 class="mb-1 font-medium">
        <a href={article.href} class="tpl-link">{article.title}</a>
      </h3>
      {article.description && (
        <p class="tpl-muted line-clamp-2 text-sm">{article.description}</p>
      )}
    </article>
  ))}
</div>
