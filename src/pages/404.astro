---
import Layout from "#layout";
import { getRelativeLocaleUrl } from "astro:i18n";
import { languages, defaultLanguage, type LanguageCode } from "@/config/site";
import { t } from "@/i18n";

const pathSegment = Astro.url.pathname.split("/")[1];
const language: LanguageCode = languages.includes(pathSegment as LanguageCode)
  ? (pathSegment as LanguageCode)
  : defaultLanguage;

const ui = t(language);
---

<Layout title="404" language={language}>
  <div class="e">
    <h1>404</h1>
    <p>Page not found</p>
    <a href={getRelativeLocaleUrl(language, "")}>{ui.homeLabel}</a>
  </div>
</Layout>

<style>
  .e { text-align: center; padding: 4rem 0; }
  .e h1 { font-size: 3rem; color: #ddd; margin-bottom: 0.5rem; }
  .e p { color: #666; margin-bottom: 1.5rem; }
</style>
