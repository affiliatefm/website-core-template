---
# general
title: ドキュメント — Website Core Template
description: website-core-template を使って多言語対応の静的サイトをセットアップ・設定・拡張する方法を学びましょう。
# ai-translator
_ai-translator:
  source: docs.mdx
  hash: 94f0234d7456
  model: gpt-4.1
  date: 2025-12-21
---

# ドキュメント

<p class="tpl-muted mb-6 text-sm">Website Core Template - By Affiliate.FM - 読了時間 5分</p>

このガイドでは、テンプレートシステムの設定方法、スタイルの選択、コアの拡張方法について説明します。

## 目次

1. [プロジェクト構成](#project-structure)
2. [設定](#configuration)
3. [テンプレートシステム](#template-system)
4. [スタイルプリセット](#style-presets)
5. [グローバルコンポーネント](#global-components)
6. [コンテンツ追加](#adding-content)
7. [多言語対応設定](#multilingual-setup)
8. [テンプレートコンポーネント](#template-components)

---

## プロジェクト構成

```
src/
├── components/global/ # 共有コンポーネント（head/body）
│   ├── head/
│   └── body/
├── content/pages/     # コンテンツ（MDXファイル）
│   ├── index.mdx      # トップページ
│   ├── docs.mdx       # ドキュメント
│   ├── _collections/  # コレクションアイテム（商品ページ）
│   ├── software/      # コレクションランディングページ
│   └── websites/      # コレクションランディングページ
├── data/              # 設定ファイル
│   ├── site.ts        # サイトURL、ロケール、テンプレート選択
│   └── ui.ts          # UI翻訳
├── templates/         # テンプレートとスタイルシステム
│   ├── registry.ts    # 登録済みテンプレート
│   └── affiliate/     # サンプルテンプレート
│       ├── Layout.astro
│       ├── template.ts
│       ├── styles/
│       ├── pages/
│       └── components/
├── i18n/              # URLヘルパー
├── integrations/      # ビルドチェック
└── pages/             # Astroルーター
```

## 設定

`src/data/site.ts` を編集します:

```typescript
export const siteUrl = "https://your-domain.com";
export const locales = ["en", "ru"] as const;
export const defaultLocale = "en";

export const template = {
  id: "affiliate",
  style: "paper",
} as const;
```

共通UI文字列は `src/data/ui.ts` を編集します:

```typescript
export const uiStrings = {
  en: { siteName: "My Site", homeLabel: "Home" },
} as const;
```

## テンプレートシステム

テンプレートは `src/templates/` 以下の独立したフォルダです。

- `Layout.astro` は全ページ共通のラッパーです。
- `pages/` には `Article.astro` や `Product.astro` などページテンプレートを配置します。
- `components/` にはテンプレート固有のUIブロックを配置します。
- `styles/` にはテンプレート用のスタイルプリセットを定義します。
- `template.ts` でテンプレートのメタデータ（ページ、スタイル、レイアウトパス）を宣言します。

新しいテンプレートを登録するには:

1. `src/templates/<your-template>/` にフォルダを追加します。
2. `template.ts` に `id`, `layout`, `pages`, `styles` を作成します。
3. `src/templates/registry.ts` に追加します。
4. `src/data/site.ts` で選択します。

## スタイルプリセット

各テンプレートは複数のスタイルプリセットを持つことができます。`src/data/site.ts` で選択します:

```typescript
export const template = {
  id: "affiliate",
  style: "studio",
} as const;
```

新しいスタイルプリセットを追加するには:

1. `src/templates/<template>/template.ts` に新しいスタイルIDを追加します。
2. `src/templates/<template>/styles/<style>.css` に専用CSSファイルを作成します。
3. `:root[data-template="<template>"][data-style="<style>"]` の下で変数を定義します。
4. （任意）共通ルール用に `./base.css` をインポートします。

各スタイルファイルは独立しており、選択されたものだけがバンドルされます。スタイルは変数だけでなく、ベースCSSの上書きや拡張も可能です。

## グローバルコンポーネント

グローバルコンポーネントは `src/components/global/` にあり、テンプレート非依存です。

- `head/` はメタタグ、構造化データ、その他の `<head>` マークアップ用です。
- `body/` はアクセシビリティヘルパーなど共通ボディ要素用です。

テンプレートはこれらのコンポーネントをインポートして、ロジックを重複せずに利用できます。

## コンテンツ追加

`src/content/pages/` にMDXファイルを作成します:

```yaml
---
title: "ページタイトル"
description: "SEO用メタディスクリプション"
---

# ここにコンテンツを書きます
```

### フロントマターのオプション

| フィールド | 型 | 説明 |
|-------|------|-------------|
| title | string | ページタイトル（必須） |
| description | string | メタディスクリプション |
| updatedAt | date | サイトマップ用 |
| draft | boolean | ビルドから除外 |
| link | string | 外部URL（商品ページ用） |
| pros | string[] | メリットリスト（商品ページ用） |
| cons | string[] | デメリットリスト（商品ページ用） |

## 多言語対応設定

### 同じスラッグ（自動）

```
pages/about.mdx      -> /about/
pages/ru/about.mdx   -> /ru/about/
```

Hreflangリンクは自動生成されます。

## テンプレートコンポーネント

テンプレート固有のコンポーネントは `src/templates/<template>/components` からインポートします:

```mdx
import RatingTable from "@/templates/affiliate/components/RatingTable.astro";

<RatingTable collection="software" limit={2} />
```

---

## 次のステップ

1. `src/data/site.ts` を設定する
2. テンプレートとスタイルプリセットを選ぶ
3. `src/content/pages/` にコンテンツを追加する
4. お好きなプラットフォームにデプロイする

**ご質問は？** [GitHub](https://github.com/affiliatefm/website-core-template) でIssueを作成してください。

---

[ホームに戻る](/)